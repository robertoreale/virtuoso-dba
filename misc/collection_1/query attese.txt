-- query attese 

set line 132
SET NUMWIDTH 10
COLUMN STATE          FOR a7 tru
COLUMN EVENT          FOR a25 tru
COLUMN LAST_SQL FOR a40 tru
SELECT sw.inst_id INSTANCE,sw.sid SID, s.serial# SERIAL, sw.state STATE, sw.event EVENT,sw.seconds_in_wait SECONDS_WAITING, 
       sw.p1,sw.p2,sw.p3,sa.sql_text LAST_SQL,sa.sql_id SQL_ID
FROM gv$session_wait sw, gv$session s, gv$sqlarea sa
WHERE sw.event NOT IN ('rdbms ipc message','smon timer','pmon timer','SQL*Net message from client',
                               'lock manager wait for remote message','ges remote message','gcs remote message',
                               'gcs for action','client message','pipe get','null event','PX Idle Wait',
                               'single-talk message','Px Deq: Execution Msg','KXFQ: kxfqdeq - normal deqeue',
                               'listen endpoint status','slave wait','wakeup time manager')
AND sw.seconds_in_wait > 0
AND (sw.inst_id = s.inst_id AND sw.sid = s.sid)
AND (s.inst_id  = sa.inst_id AND s.sql_address = sa.address)
ORDER BY seconds_waiting DESC;